<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy New Year, My Love</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c2e 0%, #1a1a3e 30%, #2d1b3e 70%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Fireworks Canvas */
        #fireworksCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        /* Main container */
        .container {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.2);
            max-width: 800px;
            width: 100%;
            border: 1px solid rgba(255, 105, 180, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #ff69b4;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
            font-weight: 700;
        }
        
        .year {
            font-size: 3.5rem;
            font-weight: 800;
            color: #ff69b4;
            margin: 1rem 0;
            animation: yearGlow 3s ease-in-out infinite alternate;
        }
        
        @keyframes yearGlow {
            0% { 
                transform: scale(1); 
                text-shadow: 0 0 10px rgba(255, 105, 180, 0.6);
            }
            100% { 
                transform: scale(1.02); 
                text-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
            }
        }
        
        .message {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            color: #f0e6ff;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* SIMPLE FLEXBOX LAYOUT for Messenger compatibility */
        .polaroid-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 1.5rem auto;
            max-width: 600px;
        }
        
        /* Each polaroid takes up 1/3 of the container minus gaps */
        .polaroid {
            flex: 0 0 calc(33.333% - 10px);
            background: white;
            padding: 8px 8px 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            height: 180px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 2px;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .polaroid.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .polaroid:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4),
                        0 0 15px rgba(255, 105, 180, 0.2);
        }
        
        .polaroid-image {
            width: 100%;
            height: 120px;
            overflow: hidden;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .polaroid-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .polaroid-caption {
            font-family: 'Courier New', monospace;
            color: #333;
            font-size: 0.8rem;
            text-align: center;
            margin-top: 8px;
            font-weight: 600;
            padding: 0 5px;
        }
        
        /* Simple Hearts */
        .heart {
            position: fixed;
            pointer-events: none;
            z-index: 2;
            opacity: 0;
            font-size: 18px;
            color: #ff69b4;
            filter: drop-shadow(0 0 5px rgba(255, 105, 180, 0.6));
        }
        
        /* Read Message Button */
        .read-message-btn {
            padding: 0.8rem 1.8rem;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .read-message-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.35);
        }
        
        .read-message-btn i {
            animation: heartBeat 2s infinite;
        }
        
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .signature {
            margin-top: 1.5rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
            font-style: italic;
        }
        
        /* Love Letter Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            transition: opacity 0.3s ease;
            padding: 15px;
        }
        
        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }
        
        .love-letter {
            background: linear-gradient(135deg, rgba(255, 240, 245, 0.98) 0%, rgba(255, 228, 236, 0.98) 100%);
            color: #5a2a5a;
            width: 100%;
            max-width: 500px;
            max-height: 85vh;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            position: relative;
            transform: scale(0.95) translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 105, 180, 0.2);
        }
        
        .modal-overlay.active .love-letter {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        
        .love-letter-header {
            padding: 1.5rem 1.5rem 1rem;
            border-bottom: 1px dashed rgba(255, 105, 180, 0.3);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px 15px 0 0;
        }
        
        .love-letter h2 {
            color: #ff1493;
            font-size: 1.8rem;
            text-align: center;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .letter-date {
            text-align: center;
            color: #ff69b4;
            font-style: italic;
            font-size: 0.9rem;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 105, 180, 0.9);
            border: none;
            font-size: 1rem;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 101;
        }
        
        .close-modal:hover {
            transform: rotate(90deg);
            background: rgba(255, 20, 147, 0.9);
        }
        
        .letter-content-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 0 1.5rem;
        }
        
        .letter-content {
            font-size: 1rem;
            line-height: 1.6;
            text-align: left;
            padding: 1rem 0;
        }
        
        .letter-content p {
            margin-bottom: 1rem;
        }
        
        .love-letter-footer {
            padding: 1rem 1.5rem 1.5rem;
            border-top: 1px dashed rgba(255, 105, 180, 0.3);
            background: rgba(255, 255, 255, 0.95);
            border-radius: 0 0 15px 15px;
        }
        
        .letter-signature {
            text-align: right;
            font-style: italic;
            font-size: 1.1rem;
            color: #ff1493;
            font-weight: 600;
        }
        
        /* MOBILE FIXES - Works in Messenger */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .year {
                font-size: 2.8rem;
            }
            
            .message {
                font-size: 1rem;
            }
            
            /* FIX FOR MESSENGER: Use simple flexbox with fixed percentage */
            .polaroid {
                flex: 0 0 calc(33.333% - 10px);
                height: 160px;
                min-width: 0; /* Important for flexbox in Messenger */
            }
            
            .polaroid-image {
                height: 100px;
            }
            
            .polaroid-caption {
                font-size: 0.75rem;
            }
        }
        
        @media (max-width: 480px) {
            .polaroid {
                flex: 0 0 calc(33.333% - 8px);
                height: 140px;
                padding: 6px 6px 25px;
            }
            
            .polaroid-image {
                height: 90px;
            }
            
            .polaroid-caption {
                font-size: 0.7rem;
                margin-top: 5px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .year {
                font-size: 2.5rem;
            }
        }
        
        /* Extra small phones */
        @media (max-width: 360px) {
            .polaroid {
                flex: 0 0 calc(33.333% - 6px);
                height: 130px;
            }
            
            .polaroid-image {
                height: 85px;
            }
        }
        
        /* Fix for iOS Messenger */
        @supports (-webkit-touch-callout: none) {
            .polaroid {
                flex-shrink: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Fireworks Canvas -->
    <canvas id="fireworksCanvas"></canvas>
    
    <!-- Main Content -->
    <div class="container">
        <h1>Happy New Year, My Love</h1>
        <div class="year" id="currentYear">2025</div>
        
        <!-- Polaroid Photos Grid - Now using flexbox for better compatibility -->
        <div class="polaroid-grid">
            <!-- Polaroid 1 -->
            <div class="polaroid" id="polaroid1">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="5.jpg" alt="Our Memory 1">
                </div>
                <div class="polaroid-caption">Our First Date</div>
            </div>
            
            <!-- Polaroid 2 -->
            <div class="polaroid" id="polaroid2">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="2.jpg" alt="Our Memory 2">
                </div>
                <div class="polaroid-caption">First Travel Date</div>
            </div>
            
            <!-- Polaroid 3 -->
            <div class="polaroid" id="polaroid3">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="3.jpg" alt="Our Memory 3">
                </div>
                <div class="polaroid-caption">Cuties</div>
            </div>
            
            <!-- Polaroid 4 -->
            <div class="polaroid" id="polaroid4">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="6.jpg" alt="Our Memory 4">
                </div>
                <div class="polaroid-caption">Smile</div>
            </div>
            
            <!-- Polaroid 5 -->
            <div class="polaroid" id="polaroid5">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="1.jpg" alt="Our Memory 5">
                </div>
                <div class="polaroid-caption">Mwaa</div>
            </div>
            
            <!-- Polaroid 6 -->
            <div class="polaroid" id="polaroid6">
                <div class="polaroid-image">
                    <!-- REPLACE THIS IMAGE URL WITH YOUR PHOTO -->
                    <img src="4.jpg" alt="Our Memory 6">
                </div>
                <div class="polaroid-caption">Forever Us</div>
            </div>
        </div>
        
        <p class="message">
            As we welcome 2026, I'm filled with gratitude for every moment we've shared. 
            These photos remind me of our beautiful journey together. May this new year bring us 
            even more love, laughter, and unforgettable memories.
        </p>
        
        <button class="read-message-btn" id="readMessageBtn">
            <i class="fas fa-heart"></i> Read My Love Letter
        </button>
        
        <div class="signature">
            With all my love, forever and always
        </div>
    </div>
    
    <!-- Love Letter Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="love-letter">
            <button class="close-modal" id="closeModal">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="love-letter-header">
                <h2>My Dearest Love,</h2>
                <div class="letter-date">New Year's Eve, 2025</div>
            </div>
            
            <div class="letter-content-wrapper">
                <div class="letter-content">
                    <p>
                        Hi Love Happy New Yearrrrr, I love you so muchhh, My best new Year because I have you, 
                        I hope na as we face 2026, all the challenges that we are about to face, we are going to surpass it all 
                        and we'll grow stronger together and individually, I am wishing you a goodluck this 2026 and I hope too na sa mga problema nato ma solbad na nato together.
                         I love you mahal you're so pretty always. I love you so muchhhhhhhh. Soon My Love, buhaton nato tanan natong ginaplano and with God's guidance
                        ma successful ta together. I love you Happy New Year.
                    </p>
                </div>
            </div>
            
            <div class="love-letter-footer">
                <div class="letter-signature">
                    With all my heart, now and always,<br>
                    Forever Yours
                </div>
            </div>
        </div>
    </div>

    <script>
        // ====================
        // SIMPLE FIREWORKS (Works everywhere)
        // ====================
        
        // Get canvas and context
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas dimensions
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Set current year
        const currentYearElement = document.getElementById('currentYear');
        const currentYear = new Date().getFullYear() + 1;
        currentYearElement.textContent = currentYear;
        
        // Check if mobile
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        
        // Arrays for particles
        let particles = [];
        
        // Romantic colors
        const romanticColors = ['#ff69b4', '#ff1493', '#ff6bc9', '#ff8ed4'];
        
        // Simple Particle class
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.size = Math.random() * 2 + 1;
                this.speedX = Math.random() * 3 - 1.5;
                this.speedY = Math.random() * 3 - 1.5;
                this.life = 50;
            }
            
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.size *= 0.99;
                this.life--;
                return this.life > 0;
            }
            
            draw() {
                ctx.save();
                ctx.globalAlpha = this.life / 50;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }
        
        // Create fireworks
        function createFirework(x, y) {
            const color = romanticColors[Math.floor(Math.random() * romanticColors.length)];
            const particleCount = isMobile ? 20 : 40;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle(x, y, color));
            }
        }
        
        // Create hearts
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = 'â¤';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            heart.style.color = romanticColors[Math.floor(Math.random() * 2)];
            heart.style.fontSize = (15 + Math.random() * 15) + 'px';
            
            document.body.appendChild(heart);
            
            // Animation
            let opacity = 1;
            let posY = y;
            const speedY = -1;
            
            function animateHeart() {
                opacity -= 0.01;
                posY += speedY;
                
                heart.style.opacity = opacity;
                heart.style.top = posY + 'px';
                
                if (opacity > 0) {
                    requestAnimationFrame(animateHeart);
                } else {
                    heart.remove();
                }
            }
            
            requestAnimationFrame(animateHeart);
        }
        
        // Animation loop
        function animate() {
            // Clear with fade effect
            ctx.fillStyle = 'rgba(12, 12, 46, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Update and draw particles
            for (let i = particles.length - 1; i >= 0; i--) {
                if (particles[i].update()) {
                    particles[i].draw();
                } else {
                    particles.splice(i, 1);
                }
            }
            
            requestAnimationFrame(animate);
        }
        
        // Start animation
        animate();
        
        // Launch fireworks
        function launchFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height * 0.7;
            createFirework(x, y);
        }
        
        // Initial fireworks
        setTimeout(() => {
            for (let i = 0; i < 3; i++) {
                setTimeout(launchFirework, i * 500);
            }
        }, 1000);
        
        // Periodic fireworks
        setInterval(() => {
            if (Math.random() < 0.2) {
                launchFirework();
            }
        }, 3000);
        
        // Periodic hearts
        setInterval(() => {
            if (Math.random() < 0.15) {
                const x = Math.random() * canvas.width;
                const y = canvas.height + 20;
                createHeart(x, y);
            }
        }, 2500);
        
        // Show polaroids with animation
        function showPolaroids() {
            const polaroids = document.querySelectorAll('.polaroid');
            polaroids.forEach((polaroid, index) => {
                setTimeout(() => {
                    polaroid.classList.add('show');
                }, index * 100);
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(showPolaroids, 500);
            
            // Initial hearts
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    createHeart(x, y);
                }, i * 700);
            }
        });
        
        // Modal controls
        const readMessageBtn = document.getElementById('readMessageBtn');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeModal = document.getElementById('closeModal');
        
        readMessageBtn.addEventListener('click', () => {
            modalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Special effects when opening letter
            for (let i = 0; i < 4; i++) {
                setTimeout(launchFirework, i * 250);
            }
            
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    createHeart(canvas.width / 2, canvas.height / 2);
                }, i * 300);
            }
        });
        
        closeModal.addEventListener('click', () => {
            modalOverlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
        
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modalOverlay.classList.contains('active')) {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>

